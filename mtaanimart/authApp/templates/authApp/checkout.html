{% extends 'main.html' %}

{% block content %}
<div style="min-height:100vh; background: linear-gradient(135deg, #6a0dad, #28a745); padding-top:60px;">

  <div style="max-width:450px; margin:0 auto; background-color:#f8f9fa; padding:25px; border-radius:20px; box-shadow:0 0 15px rgba(0,0,0,0.2);">
    
    <h3 style="text-align:center; margin-bottom:20px; color:#6a0dad; font-weight:700;">
      Checkout
    </h3>

    <p style="text-align:center; font-weight:bold; color:#28a745; font-size:1rem; margin-bottom:20px;">
      Total Amount: Ksh {{ total }}
    </p>

    <form method="POST">
      {% csrf_token %}

      <!-- Phone Number Field -->
      <div style="margin-bottom:15px;">
        <label for="id_phone_number" style="font-weight:bold; color:#6a0dad;">Phone Number:</label>
        {{ form.phone_number }}
        {% if form.phone_number.errors %}
          <div style="color:red; font-size:0.85rem;">
            {{ form.phone_number.errors }}
          </div>
        {% endif %}
      </div>

      <!-- Quantity Dropdown -->
      <div style="margin-bottom:15px;">
        <label for="id_quantity" style="font-weight:bold; color:#6a0dad;">Quantity:</label>
        <select name="quantity" id="id_quantity" class="form-control">
          {% for i in quantities %}
            <option value="{{ i }}">{{ i }}</option>
          {% endfor %}
        </select>
      </div>

      <!-- Fixed Pickup Info -->
      <div style="margin-bottom:15px; text-align:center; color:#6a0dad;">
        <p>
          Your order will be ready for <strong>Pickup at Mtaani Mart Shop</strong><br>
          Nairobi CBD, Opposite Kencom House
        </p>
      </div>

      <input type="submit" value="Pay Now"
        style="width:100%; background-color:#28a745; color:white; padding:10px; border:none; border-radius:30px; font-weight:bold; margin-top:20px;">

      <p style="text-align:center; margin-top:15px;">
        <a href="{% url 'cart' %}" style="text-decoration:none; color:#28a745; font-weight:600;">
          Back to Cart
        </a>
      </p>
    </form>
  </div>
</div>
{% endblock %}