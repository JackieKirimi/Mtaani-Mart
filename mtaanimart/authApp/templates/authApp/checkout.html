{% extends 'main.html' %}
{% load static %}

{% block content %}
<div style="min-height:100vh; background: linear-gradient(135deg, #6a0dad, #28a745); padding-top:60px;">

  <!-- Wider form card -->
  <div
    style="max-width:650px; margin:0 auto; background-color:#f8f9fa; padding:25px; border-radius:20px; box-shadow:0 0 15px rgba(0,0,0,0.2);">

    <!-- Checkout heading -->
    <h3 style="text-align:center; margin-bottom:20px; color:#6a0dad; font-weight:700;">
      Checkout
    </h3>

    <!-- Total amount -->
    <p style="text-align:center; font-weight:bold; color:#28a745; font-size:1rem; margin-bottom:20px;">
      Total Amount: Ksh {{ total }}
    </p>

    <form method="POST">
      {% csrf_token %}

      <!-- Phone Number Field -->
      <div style="margin-bottom:15px;">
        <label for="id_phone_number" style="font-weight:bold; color:#6a0dad;">Phone Number:</label>
        {{ form.phone_number }}
        {% if form.phone_number.errors %}
        <div style="color:red; font-size:0.85rem;">
          {{ form.phone_number.errors }}
        </div>
        {% endif %}
      </div>

      <!-- Quantity Dropdown -->
      <div style="margin-bottom:15px;">
        <label for="id_quantity" style="font-weight:bold; color:#6a0dad;">Quantity:</label>
        <select name="quantity" id="id_quantity" class="form-control">
          {% for i in quantities %}
          <option value="{{ i }}">{{ i }}</option>
          {% endfor %}
        </select>
      </div>

      <!-- Fixed Pickup Info -->
      <div style="margin-bottom:15px; text-align:center; color:#6a0dad;">
        <p>
          Your order will be ready for <strong>Pickup at Mtaani Mart Shop</strong><br>
          Location: Nairobi CBD, <strong>Hazina Trade Centre</strong><br>
          Stall Number 7
        </p>
      </div>

      <div style="margin:20px 0; text-align:center;">
        <img src="{% static 'ProductApp/images/mtaanimart shop.png' %}" alt="Hazina Trade Centre with Mtaani Mart Stall"
          style="
          width:100%; 
          max-width:650px; 
          height:400px; 
         object-fit:cover; 
         object-position:center 30%; 
         border-radius:10px; 
         box-shadow:0 0 10px rgba(0,0,0,0.2);
     ">
      </div>


      <!-- Pay Now Button -->
      <input type="submit" value="Pay Now"
        style="width:100%; background-color:#28a745; color:white; padding:10px; border:none; border-radius:30px; font-weight:bold; margin-top:20px;">

      <!-- Back to Cart -->
      <p style="text-align:center; margin-top:15px;">
        <a href="{% url 'cart' %}" style="text-decoration:none; color:#28a745; font-weight:600;">
          Back to Cart
        </a>
      </p>
    </form>
  </div>
</div>
{% endblock %}