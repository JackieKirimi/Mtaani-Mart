{% extends 'main.html' %}
{% block content %}
<h2 class="text-center my-4" style="color:#6a0dad; font-weight:700;">
  Available Products
</h2>

<div class="container">
  <!-- Add Product Button -->
  <div class="row mb-3">
    <div class="col text-end">
      <a href="{% url 'add_product' %}" class="btn mb-3"
        style="background-color:#28a745; color:white; padding:10px 25px; border:none; border-radius:30px; font-weight:bold; box-shadow:0 4px 8px rgba(0,0,0,0.1);">
        + Add New Product
      </a>

    </div>
  </div>

  <!-- Product Cards -->
  <div class="row">
  {% for product in products %}
  <div class="col-md-3 col-sm-6 mb-3">
    <div style="height:400px; max-width:220px; margin-left:0; border:1px solid #ddd; border-radius:15px; padding:10px; box-shadow:0 0 8px rgba(0,0,0,0.1); background-color:#fff; display:flex; flex-direction:column; justify-content:space-between;">
      
      <!-- Product Image -->
      <img src="{{ product.image.url }}" alt="{{ product.name }}" 
           style="width:100%; height:140px; object-fit:cover; border-radius:8px;">

      <!-- Product Name -->
      <h6 style="color:#6a0dad; font-weight:700; margin-top:10px; margin-bottom:6px;">{{ product.name }}</h6>

      <!-- Product Description -->
      <p style="font-size:0.8rem; color:#333; margin-bottom:6px; max-height:60px; overflow:hidden;">
        {{ product.description }}
      </p>

      <!-- Price -->
      <p style="font-weight:bold; color:#28a745; margin-bottom:8px;">Ksh {{ product.price }}</p>

      <!-- Add to Cart Button -->
      <form method="POST" action="{% url 'add_to_cart' product.id %}">
        {% csrf_token %}
        <button type="submit" 
                style="width:100%; background-color:#28a745; color:#333; padding:6px; border:none; border-radius:15px; font-weight:bold; font-size:0.85rem;">
          Add to Cart
        </button>
      </form>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}